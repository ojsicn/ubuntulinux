# 리눅스 기초

## 리눅스의 구조

* 커널

  : 프로세스 관리, 메모리 관리, 파일 시스템 관리, 장치 관리 등 컴퓨터의 모든 자원을 초기화, 모니터링, 제어하는 기능을 수행

* 셸

  : 리눅스의 사용자 인터페이스

  : 사용자와 커널 사이의 중간자 역할

  : 셸은 사용자가 입력한 명령을 해석하여 커널에 넘겨준다. 이후 커널은 명령의 수행 결과를 돌려주고 셸은 다시 사용자가 이해할 수 있는 형태로 바꿔 출력한다.

* 응용 프로그램

  : 각종 프로그래밍 개발 도구, 문서 편집 도구, 네트워크 관련 도구 등의 사용자 편의 기능 프로그램

## 리눅스 실습 환경 구축

리눅스 실습 환경은 다음과 같다. VMWare 등 가상환경으로 실습해도 되고 OS를 여러 개 설치한 듀얼부팅을 통해서도 실습해도 된다. 나의 경우에는 라즈베리파이를 통해 실습을 진행하였다. 라즈비안OS를 설치하는 과정은 생략하였다. 다만 해당 링크를 걸어둔다.

[라즈비안OS 설치 링크](https://www.robotstory.co.kr/raspberry/?board_page=6&vid=31)

| 하드웨어      | OS                             | 통신방식 | 코드 에디터 |
| ------------- | ------------------------------ | -------- | ----------- |
| 라즈베리파이3 | 라즈비안OS(우분투와 거의 동일) | SSH      | VSCode      |

실습 환경 구축은 다음과 같다.

1. VSCode 설치

   ![image-20240217212357709](.\assets\image-20240217212357709.png)

2. SSH 연결

   1. 라즈베리파이 SSH 설치

   ![image-20240217212710846](.\assets\image-20240217212710846.png)

   2. VSCode - Extension - Remote-SSH 설치

      ![image-20240217212849641](.\assets\image-20240217212849641.png)

   3. VSCode - F1키 or Ctrl + Shif + p - Remote-SSH: Open SSH Configuration File - 기본경로 - 설정파일 수정

      * Host : 사용할 이름(아무거나 지정)
      * HostName : 접속할 서버의 호스트이름 or ip
      * User : 접속할 서버의 사용자명
      * IdentityFile : pem키의 경로 및 파일명

      ![image-20240217213149768](.\assets\image-20240217213149768.png)

   4. VSCode - F1키 or Ctrl + Shift + p - Connect to Host - 지정한 호스트명

   5. 좌측 중간 모니터 아이콘 클릭 및 ssh 접속

      ![image-20240217213552261](.\assets\image-20240217213552261.png)

## 리눅스 명령 사용법

* 터미널 접속 해제 : exit, ^d
* 문자 지우기 : delete 키
* 단어 지우기 : ctrl + w
* 모두 지우기 : ctrl + u

### 명령의 구조

* 형식

  명령 [옵션] [인자]

  * 명령

    사용자가 리눅스에게 명령을 내리기 위해 사용하는 명령어

  * 옵션

    명령의 세부 기능 

  * 인자

    명령으로 전달되는 값

### 기초 명령 사용법

* date 명령

  * 날짜와 시간을 출력
  * date

* clear 명령

  * 화면을 지운다.
  * clear

* man

  * 명령 사용 방법을 화면에 출력한다.
  * man [명령]

* passwd 

  * 사용자 계정의 비밀번호 변경

    passwd [사용자]

### 연습문제

1. 리눅스와 GNU의 관계
2. 리눅스는 발전은 거듭하는데 리눅스의 모체가 되는 미닉스는 널리 사용되지 않는다. 이유는 무엇인가?
3. 리눅스 배포판이 필요한 이유
4. GPL과 아파치 라이선스, BSD 라이선스를 비교하여 설명
5. GNU 선언문을 찾아 읽어보기
6. 리눅스를 GNU/리눅스로 불러야 하는 이유
7. 리눅스의 세 가지 구성 요소
8. 가상머신에 대해 설명
9. 가상머신에서 호스트 OS와 게스트 OS는 무엇인지 설명
10. Swap 파일과 파티션의 역할
11. 다음 명령어를 간단히 설명
    * date
    * clear
    * man
    * passwd
12. date 명령의 도움말을 확인
13. 우분투의 응용 프로그램 중 다음 응용 프로그램을 동작시키는 과정을 설명
    * 파이어폭스
    * 계산기
    * 스크린샷
14. 텍스트 편집기를 명령으로 실행하는 방법을 설명
15. 터미널을 종료하는 두 가지 명령

# 디렉터리와 파일 사용법

* 리눅스 파일의 종류와 특징
* 디렉터리 계층 구조
* 절대 경로명과 상대 경로명
* 디렉터리 이동, 디렉터리 내용 확인
* 디렉터리 생성, 삭제
* 파일 내용 확인
* 파일 복사/이동/삭제
* 파일 링크의 특징
* 하드 링크, 심볼릭 링크 생성
* 파일의 내용과 위치 검색

## 리눅스 파일과 디렉터리

### 파일의 종류

* 일반 파일

  : 각종 텍스트 파일, 실행 파일, 이미지 파일 등

  : 실행 파일이나 이미지 파일의 경우 바이너리 형태로 저장(바이너리 파일은 특정 응용 프로그램이 있어야 해당 내용을 확인할 수 있다)

* 디렉터리

  : 파일의 목록 관리 파일

* 심볼릭 링크

  : 원본 파일을 대신하도록 원본 파일을 다른 파일명으로 지정한 것(윈도의 바로가기 파일)

* 장치 파일

  : 리눅스에서는 각종 장치도 파일로 취급한다.

  : 장치 파일은 리눅스 시스템에 부착된 장치들을 관리하기 위한 특수 파일이다.

  : 대부분의 장치 파일은 /dev 디렉터리 아래에 위치

### 디렉터리의 계층 구조

리눅스에서는 파일을 효율적으로 관리하기 위해 디렉터리를 계층적으로 구성하는데 이를 트리(tree) 구조라고 한다.

리눅스의 모든 디렉터리의 출발점은 루트(root) 디렉터리이다. 루트 디렉터리는 / 로 표시한다.

### 리눅스 디렉터리의 계층 구조 및 기능

**디렉터리의 계층 구조**

![image-20240217223553877](.\assets\image-20240217223553877.png)

**디렉터리의 주요 기능**

| 디렉터리   | 기능                                                         |
| ---------- | ------------------------------------------------------------ |
| dev        | 장치 파일이 담긴 디렉터리<br />![image-20240224004726978](.\assets\image-20240224004726978.png) |
| home       | 사용자 홈 디렉터리<br />![image-20240224004758246](.\assets\image-20240224004758246.png) |
| media      | DVD/CD나 USB 같은 외부 장치를 연결(마운트라고 한다)하는 디렉터리<br />![image-20240224004815278](.\assets\image-20240224004815278.png) |
| opt        | 추가 패키지가 설치되는 디렉터리<br />![image-20240224004831980](.\assets\image-20240224004831980.png) |
| root       | root 계정의 홈 디렉터리, 루트(/) 디렉터리와는 다른 것이므로 혼동X<br />![image-20240224004935006](.\assets\image-20240224004935006.png) |
| sys        | 리눅스 커널과 관련된 파일이 있는 디렉터리<br />![image-20240224004951936](.\assets\image-20240224004951936.png) |
| usr        | 기본 실행 파일, 라이브러리 파일, 헤더 파일 등 이 있다. usr는 'Unix System Resource'의 약자<br />![image-20240224005008762](.\assets\image-20240224005008762.png) |
| boot       | 부팅에 필요한 커널 파일을 가지고 있다.<br />![image-20240224005034518](.\assets\image-20240224005034518.png) |
| etc        | 리눅스 설정을 위한 각종 파일을 가지고 있다.<br />![image-20240224005158575](.\assets\image-20240224005158575.png) |
| lost+found | 파일 시스템에 문제가 발생하여 복구할 경우, 문제가 되는 파일이 저장되는 디렉터리로 보통은 비어 있다.<br />![image-20240224005238806](.\assets\image-20240224005238806.png) |
| mnt        | 파일 시스템을 임시로 마운트하는 디렉터리<br />![image-20240224005300413](.\assets\image-20240224005300413.png) |
| proc       | 프로세스 정보 등 커널 관련 정보가 저장되는 디렉터리<br />![image-20240224005318878](.\assets\image-20240224005318878.png) |
| run        | 실행 중인 서비스와 관련된 파일이 저장<br />![image-20240224005340968](.\assets\image-20240224005340968.png) |
| srv        | FTP나 Web 등 시스템에 제공하는 서비스의 데이터가 저장된다.<br />![image-20240224005407110](.\assets\image-20240224005407110.png) |
| tmp        | 시스템 사용 중에 발생하는 임시 데이터가 저장된다. 이 디렉터리에 있는 파일은 재시작하면 모두 삭제된다.<br />![image-20240224005424048](.\assets\image-20240224005424048.png) |
| var        | 시스템 운영 중에 발생하는 데이터나 로그 등 내용이 자주 바뀌는 파일이 주로 저장된다.<br />![image-20240224005434944](.\assets\image-20240224005434944.png) |



### 절대 경로명과 상대 경로명

경로명에서 가장 앞에 있는 /는 루트 디렉터리를, 중간의 /는 구분자로 사용된다.

**※ 절대 경로명과 상대 경로명의 특징**

| 구분        | 특징                                                         |
| ----------- | ------------------------------------------------------------ |
| 절대 경로명 | 루트 디렉터리가 기준이 된다.<br />ex) /home/Desktop/test.txt |
| 상대 경로명 | 현재 디렉터리가 기준이 된다.<br />ex) ../../etc/hosts        |

## 디렉터리 관련 명령

### 현재 디렉터리 확인 : pwd

### 디렉터리 이동 : cd

### 디렉터리 내용 확인 : ls

| 옵션                 | 설명                                                      |
| -------------------- | --------------------------------------------------------- |
| -a(all)              | 숨김 파일을 포함하여 모든 파일 목록                       |
| -d(directory)        | 디렉터리 자체의 정보<br />-ld 로 써야 자체 정보가 나온다. |
| -i(inode)            | inode 번호                                                |
| -l(long list format) | 파일의 상세 정보                                          |
| -A(almost all)       | .와 ..를 제외한 모든 파일 목록                            |
| -F(classify)         | 파일의 종류(* 실행파일, / 디렉터리, @ 심볼릭 링크)        |
| -L(dereference)      | 심볼릭 링크 파일의 경우 원본 파일의 정보 출               |
| -R(recursive)        | 하위 디렉터리의 목록까지 출력                             |
| -h(human readable)   | with -l and -s, print sizes like 1K 234M 2G etc.          |
| -S(sort)             | sort by file size, largest first                          |
| -t(time)             | sort by time, newest first; see --time                    |

**파일의 상세 정보**

ex) drwxr-xr-x 2 root root 4096 Feb 17 22:39 watchdog 

| 필드 값      | 의미                                                         |
| ------------ | ------------------------------------------------------------ |
| d            | 다음과 같은 파일 종류를 나타낸다.<br />- : 일반 파일<br />d : 디렉터리 파일<br />l : 심볼릭 링크 파일<br />b : 블록 단위로 읽고 쓰는 블록 장치 파일<br />c : 섹터 단위로 읽고 쓰는 문자 장치 파일<br />p : 파이프 파일(프로세스 간 통신에 사용되는 특수 파일)<br />s : 소켓(네트워크 통신에 사용되는 특수 파일) |
| rwxr-xr-x    | 파일의 사용자에 따른 접근 권한                               |
| 2            | 하드 링크의 개수                                             |
| root         | 파일 소유자                                                  |
| root         | 파일이 속한 그룹                                             |
| 4096         | 파일 크기(바이트 단위)                                       |
| Feb 17 22:39 | 파일이 마지막으로 수정된 시간                                |
| watchdog     | 파일명                                                       |

이밖에도 파일이 있는지 없는지 확인하는 용도로도 사용이 된다.

ex) ls .bashrc

### 디렉터리 생성 : mkdir

| 옵션 | 설명                                                   |
| ---- | ------------------------------------------------------ |
| -p   | 중간 단계의 디렉터리를 생성하고 지정한 디렉터리를 생성 |

**디렉터리 여러 개 만들기**

![image-20240217234741682](.\assets\image-20240217234741682.png)

**중간 디렉터리 자동으로 만들기 : -p**

![image-20240217234925912](.\assets\image-20240217234925912.png)

### 디렉터리 삭제 : rmdir

| 옵션 | 설명                                                         |
| ---- | ------------------------------------------------------------ |
| -p   | 지정한 디렉터리를 삭제하고 그 디렉터리의 부모 디렉터리가 빈 디렉터리일 경우 부모 디렉터리도 삭제 |

## 파일 관련 명령

### 파일 내용 출력

**cat : 파일 내용 연속 출력**

| 옵션 | 설명                  |
| ---- | --------------------- |
| -n   | 행 번호를 붙여서 출력 |

**more : 파일 내용 화면 단위 출력**

| 옵션     | 설명                       |
| -------- | -------------------------- |
| +행 번호 | 출력을 시작할 행 번호 지정 |

**less : 파일 내용 화면 단위 출력**

**tail : 파일 내용의 뒷부분 출력**

| 옵션     | 설명                                                         |
| -------- | ------------------------------------------------------------ |
| +행 번호 | 지정한 행부터 끝까지 출력                                    |
| -숫자    | 화면에 출력할 행의 수를 지정(기본값은 10)                    |
| -f       | 파일 출력을 종료하지 않고 주기적으로 계속 출력한다(파일 내용의 변화를 확인할 때 편리). |

### cp : 파일 복사

| 옵션   | 설명                                                         |
| ------ | ------------------------------------------------------------ |
| -i     | 파일2가 이미 존재하면 덮어쓸 것인지 물어본다.                |
| -r, -R | 디렉터리를 재귀적으로 복사한다. 만약 소유자, 퍼미션까지 원본과 동일하게 복사하려면 -a를 사용한다. |

### mv : 파일 이동과 파일명 변경

| 옵션 | 설명                                             |
| ---- | ------------------------------------------------ |
| -i   | 동일명의 파일이 존재하면 덮어쓸 것인지 물어본다. |

### rm : 파일 삭제

| 옵션 | 설명                            |
| ---- | ------------------------------- |
| -i   | 파일을 삭제할 것인지 확인한다.  |
| -r   | 디렉터리를 재귀적으로 삭제한다. |

### 파일 링크

파일의 구성 : 파일명 + inode + 데이터 블록

* 파일명 : 사용자가 파일에 접근할 때 사용하는 파일 이름
* inode : 파일 정보가 담긴 구조체이다. 외부적으로는 번호로 표시되고 내부적으로는 파일의 종류와 크기, 소유자, 파일 변경 시간, 파일명 등 파일 상세 정보와 데이터 블록 주소가 저장되어 있다.
* 데이터 블록 : 

### ln : 하드 링크 만들기

| 옵션 | 설명                  |
| ---- | --------------------- |
| -s   | 심볼릭 링크 파일 생성 |

### touch : 빈 파일 만들기, 접근/수정 시간 변경하기

| 옵션                     | 설명             |
| ------------------------ | ---------------- |
| -a                       | 접근 시간만 변경 |
| -m                       | 수정 시간만 변경 |
| -t [[CC]YY]MMDDhhmm[.ss] | 시간을 직접 입력 |

### grep : 파일 내용 검색

| 옵션 | 설명                               |
| ---- | ---------------------------------- |
| -i   | 대소문자를 모두 검색               |
| -l   | 지정한 패턴이 포함된 파일명을 출력 |
| -n   | 행 번호를 출력                     |

### find : 파일 찾기

* 형식 : find [경로] [검색 조건] [동작]
* 검색 조건
  * -name filename : 파일명으로 검색한다.
  * -type 파일 종류 : 파일 종류로 검색한다.
  * -user loginID : 지정한 사용자가 소유한 모든 파일을 검색한다.
  * -perm 접근 권한 : 지정한 사용 권한과 일치하는 파일을 검색한다.
* 동작
  * -exec 명령 {} \; : 검색된 파일에 명령을 실행한다.
  * -ok 명령 {} \; : 사용자의 확인을 받아서 명령을 실행한다.
  * -print : 검색된 파일의 절대 경로명을 화면에 출력한다(기본 동작).
  * -ls : 검색 결과를 긴 목록 형식으로 출력한다.

### whereis : 명령의 위치 찾기

| 옵션 | 설명                 |
| ---- | -------------------- |
| -b   | 바이너리 파일만 검색 |
| -m   | 메뉴얼 파일만 검색   |
| -s   | 소스 파일만 검색     |

### which : 명령의 위치 찾기

# 문서 편집

## vi 사용법

### vi 동작 모드

![image-20240218203005425](.\assets\image-20240218203005425.png)

**vi 파일 저장 및 종료**

| 명령키          | 기능                                                         |
| --------------- | ------------------------------------------------------------ |
| :q              | 작업한 내용을 저장하지 않고 종료                             |
| :q!             | 작업한 내용을 저장하지 않고 종료                             |
| :w or :w 파일명 | 작업한 내용을 저장만 한다. 파일명을 지정하면 다른 파일로 저장한다. |
| :wq, :wq!       | 작업한 내용을 저장하고 종료                                  |
| ZZ(shift + zz)  | 작업한 내용을 저장하고 종료                                  |

### vi 모드 전환

| 명령키      | 기능             |
| ----------- | ---------------- |
| i           | 현재 자리        |
| a           | 다음 자리        |
| o           | 다음 행          |
| I(대문자 i) | 행의 첫 칼럼     |
| A           | 행의 마지막 칼럼 |
| O           | 행의 이전 행     |

### 커서와 화면 이동

| 명령키         | 기능                      |
| -------------- | ------------------------- |
| k / j          | 위 / 아래                 |
| l / h          | 오른쪽 / 왼쪽             |
| 0 / $          | 현재 행의 처음 / 마지막   |
| - / + or Enter | 앞 / 다음 행의 처음       |
| H / M / L      | 맨 위 / 중간 / 맨 아래    |
| w / e          | 다음 단어의 처음 / 마지막 |
| b              | 앞 단어의 첫 글자         |

| 명령키 | 기능           |
| ------ | -------------- |
| ^u     | 반 화면 위로   |
| ^d     | 반 화면 아래로 |
| ^b     | 한 화면 위로   |
| ^f     | 한 화면 아래로 |
| ^y     | 한 행만 위로   |
| ^e     | 한 행만 아래로 |

| 명령키   | 기능                           |
| -------- | ------------------------------ |
| G        | 마지막 행으로 커서 이동        |
| 행 번호G | 지정한 행 번호로 커서 이동     |
| :행 번호 | 지정한 행 번호로 커서 이동     |
| :$       | 파일의 마지막 행으로 커서 이동 |

### 내용 수정

| 명령키  | 기능                                                |
| ------- | --------------------------------------------------- |
| r       | 다른 글자로 수정                                    |
| cw, #cw | 단어 수정. #에는 수정할 단어의 수를 지정            |
| s, #s   | Esc를 입력할 때까지 수정. #에는 수정할 글자 수 지정 |
| cc      | 행의 내용 모두 수정                                 |
| C       | 행의 끝까지 수정                                    |

### 내용 삭제

| 명령키  | 기능             |
| ------- | ---------------- |
| x, #x   | 글자 삭제        |
| dw, #dw | 단어 삭제        |
| dd, #dd | 행 삭제          |
| D       | 행의 끝까지 삭제 |

### 명령 취소

| 명령키 | 기능                                                |
| ------ | --------------------------------------------------- |
| u      | 명령 취소                                           |
| U      | 해당 행에서의 모든 명령 취소                        |
| :e!    | 마지막으로 저장한 내용 이후의 것을 버리고 새로 작업 |

### 복사 및 잘라 붙이기

| 명령키  | 기능                 |
| ------- | -------------------- |
| yy, #yy | 행 복사              |
| p       | 행의 아래쪽에 붙인다 |
| P       | 행의 위쪽에 붙인다   |
| dd, #dd | 행을 잘라둔다        |

### 검색 및 바꾸기

| 명령키  | 기능                                |
| ------- | ----------------------------------- |
| /문자열 | 아래 방향으로 검색                  |
| ?문자열 | 위 방향으로 검색                    |
| n       | 원래 찾던 방향으로 다음 문자열 검색 |
| N       | 역방향으로 다음 문자열 검색         |

| 명령키  | 기능                                                         |
| ------- | ------------------------------------------------------------ |
| :r 파일 | 지정한 파일을 읽어들여 현재 커서 위치에 삽입                 |
| :e 파일 | 지정한 파일로 전환한다(기존 파일을 :w로 저장한 뒤에 실행)    |
| :n      | vi 시작 시 여러 파일을 지정했을 경우 다음 파일로 작업을 이동 |

| 명령키     | 기능                                                         |
| ---------- | ------------------------------------------------------------ |
| :! 셸 명령 | vi 작업 중단 및 셸 명령 실행(돌아오려면 Enter)               |
| :sh        | vi를 잠시 빠져나가서 셸 명령 실행(vi로 돌아오려면 exit 명령 실행) |

## vi 환경 설정

| set 명령과 옵션 | 기능                             |
| --------------- | -------------------------------- |
| set nu          | 행 번호 표시                     |
| set nonu        | 행 번호 표시X                    |
| set list        | 특수문자 표시                    |
| set nolist      | 특수문자 감추기                  |
| set showmode    | 현재 모드 표시                   |
| set noshowmode  | 현재 모드 감추기                 |
| set             | vi 환경 설정 값 출력             |
| set all         | 모든 vi 환경 변수와 현재 값 출력 |

# 셸 사용법

## 셸 기본 사용법

### 특수문자 사용 방법

**특수문자 * **

| 사용예                                      | 의미                                                         |
| ------------------------------------------- | ------------------------------------------------------------ |
| ls *                                        | 현재 디렉터리의 모든 파일과 서브 디렉터리 나열. 서브 디렉터리 내용도 출력<br />![image-20240219210708375](.\assets\image-20240219210708375.png) |
| cp * /temp<br />sudo cp -a * ~/Desktop/temp | 현재 디렉터리의 모든 파일을 /tmp 디렉터리 아래로 복사<br />![image-20240219211038744](.\assets\image-20240219211038744.png) |
| ls -F s*                                    | 파일명이 t로 시작하는 모든 파일의 이름과 파일 종류를 출력<br />![image-20240219211215343](.\assets\image-20240219211215343.png) |
| cp *.py ../copypy                           | 확장자가 .py인 모든 파일을 상위 디렉터리 아래의 copypy 디렉터리로 복사<br />![image-20240219211403104](.\assets\image-20240219211403104.png) |
| ls -l a*y                                   | 파일명이 h로 시작하고 d로 끝나는 모든 파일의 상세 정보를 출력<br />![image-20240219211519885](.\assets\image-20240219211519885.png) |

**특수문자 ? 와 []**

| 사용예                   | 의미                                                         |
| ------------------------ | ------------------------------------------------------------ |
| ls -l test[135abcde].txt | 숫자 1, 3, 5 문자 a, b, c, d, e <br />![image-20240221201654339](.\assets\image-20240221201654339.png) |
| ls -l test[1-3].txt      | 숫자 1-3 사이<br />![image-20240221201811803](.\assets\image-20240221201811803.png) |
| ls [0-9]*                | 숫자 0-9 사이<br />![image-20240221202045091](.\assets\image-20240221202045091.png) |

**특수문자 ~와 -**

| 사용 예         | 의미                                                         |
| --------------- | ------------------------------------------------------------ |
| cp *.txt ~/temp | ![image-20240221202604156](.\assets\image-20240221202604156.png) |
| cd -            | ![image-20240221203123696](.\assets\image-20240221203123696.png) |

**특수문자 ;과 |**

| 사용 예          | 의미                                                         |
| ---------------- | ------------------------------------------------------------ |
| date; ls; pw     | ![image-20240221203310973](.\assets\image-20240221203310973.png) |
| ls -al / \| more | ![image-20240221203403068](.\assets\image-20240221203403068.png) |

**특수문자 ' '와 " "**

' ' : 모든 특수문자 무효화

" " : $, `, \ 를 제외한 특수문자 무효화

| 사용 예       | 의미                                                         |
| ------------- | ------------------------------------------------------------ |
| echo '$SHELL' | ![image-20240221203713942](.\assets\image-20240221203713942.png) |
| echo "$SHELL" | ![image-20240221204021183](.\assets\image-20240221204021183.png) |

**특수문자 ``**

| 사용 예                                           | 의미                                                         |
| ------------------------------------------------- | ------------------------------------------------------------ |
| echo "Today is `date`(원래는 ``로 date를 감싼것)" | ![image-20240221204312501](.\assets\image-20240221204312501.png) |
| ls /usr/bin/`uname -m`                            |                                                              |

![image-20240221205056127](.\assets\image-20240221205056127.png)

**특수문자 \ **

| 사용 예                  | 의미                                                         |
| ------------------------ | ------------------------------------------------------------ |
| touch t\*<br />ls -l t\* | ![image-20240221205442271](.\assets\image-20240221205442271.png) |
| echo \$SHELL             | ![image-20240221205526479](.\assets\image-20240221205526479.png) |

**특수문자 >, <, >>**

`>` : 덮어쓰기
명령 [파일 디스크립터]> 파일명 ([파일 디스크립터]와 > 사이에 공백X)
ex) ls -l 0> res.txt 

| 사용 예          | 의미                                                         |
| ---------------- | ------------------------------------------------------------ |
| ls -l > res.txt  | ![image-20240221205719684](.\assets\image-20240221205719684.png) |
| ls -l >> res.txt | ![image-20240221205829814](.\assets\image-20240221205829814.png)<br />![image-20240221205842102](.\assets\image-20240221205842102.png) |
| cat < text.txt   | ![image-20240221211040986](.\assets\image-20240221211040986.png) |

## 입출력 방향 변경

입력도 키보드로 하는 것이 아니라 파일에서 읽어오도록 할 수 있다.

리눅스에서 입력과 출력으로 사용하는 장치를 바꾸면 출력을 화면이 아닌 파일에 하고 입력도 파일에서 받을 수 있다.

입출력 장치를 바꾼다.

### 표준 입출력 장치

표준 출력과 별도로 오류 메시지를 내보내는 장치를 표준 오류 장치라고 한다.

리눅스는 장치도 파일로 관리한다.

셸은 작업 중 필요한 파일에 일련번호를 붙여서 관리하며 이를 '파일 디스크립터'라고 한다.

표준 입출력 장치도 파일로 관리되기 때문에 파일 디스크립터가 부여되어 있다.

입출력 장치를 변경할 때는 이 파일 디스크립터를 사용한다.

표준 입출력 장치를 파일로 바꾸는 것을 '리다이렉션'이라고 한다.

| ㅁ파일 디스크립터 | 파일 디스크립터 대신 사용하는 이름 | 정의             |
| ----------------- | ---------------------------------- | ---------------- |
| 0                 | stdin                              | 명령의 표준 입력 |
| 1                 | stdout                             | 명령의 표준 출력 |
| 2                 | stderr                             | 명령의 표준 오류 |

### 출력 리다이렉션

**> (Overwrite)**

![image-20240221211501262](.\assets\image-20240221211501262.png)

![image-20240221211728857](.\assets\image-20240221211728857.png)

![image-20240221211814051](.\assets\image-20240221211814051.png)

![image-20240221211933332](.\assets\image-20240221211933332.png)

*194p [240221수2224]*

**set 명령**

![image-20240223223102657](.\assets\image-20240223223102657.png)

```
set: set [-abefhkmnptuvxBCHP] [-o option-name] [--] [arg ...]
```

```
Set or unset values of shell options and positional parameters.

Change the value of shell attributes and positional parameters, or
    display the names and values of shell variables.
```

```
-C  If set, disallow existing regular files to be overwritten
          by redirection of output.
```

**>> (append)**

![image-20240223223648585](.\assets\image-20240223223648585.png)

### 오류 리다이렉션

표준 출력은 1번, 표준 오류는 2번 장치 파일이다.

![image-20240223224125140](.\assets\image-20240223224125140.png)

![image-20240223224214513](.\assets\image-20240223224214513.png)

### 입력 리다이렉션

https://ehpub.co.kr/15-%EC%9E%85%EC%B6%9C%EB%A0%A5-%EB%A6%AC%EB%8B%A4%EC%9D%B4%EB%A0%89%EC%85%98%EA%B3%BC-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%A5%BC-%EC%95%8C%EC%95%84%EB%B3%B4%EC%95%84%EC%9A%94/

```c
// demo2.c

#include <stdio.h>

int main(void) {
    int num;
    char name[20] = "";

    printf("번호입력 : \n");
    scanf("%d", &num);
    printf("이름입력 : \n");
    scanf("%s", &name);

    printf("번호 : %d, 이름 : %s\n", num, name);

    return 0;
}
```

```
// input
3
홍길동
```

![image-20240223230511292](.\assets\image-20240223230511292.png)

```
3
홍길동
```

![image-20240223230538437](.\assets\image-20240223230538437.png)

## 배시셸 환경 설정

### 셸 변수와 환경 변수

셸 변수는 현재 셸에서만 사용할 수 있고 서브 셸로는 전달되지 않지만, 환경 변수는 현재 셸뿐만 아니라 서브 셸로도 전달된다.

**주요 셸 환경 변수**

| 환경 변수 | 의미                           |
| --------- | ------------------------------ |
| HISTSIZE  | 히스토리 저장 크기             |
| HOME      | 사용자 홈 디렉토리의 절대 경로 |
| LANG      | 사용하는 언어                  |
| LOGNAME   | 사용자 계정 이름               |
| PATH      | 명령을 탐색할 경로             |
| PWD       | 작업 디렉토리의 절대 경로      |
| SHELL     | 로그인 셸                      |

![image-20240223231531832](.\assets\image-20240223231531832.png)

### 셸 변수와 환경 변수 설정

변수명=문자열

셸 변수로는 설정했지만 환경 변수로는 설정하지 않았다.

환경 변수로 설정하면 셸 변수로도 설정이 된다.

환경 변수 : 전역 변수 / 셸 변수 : 지역 변수

![image-20240223234145459](.\assets\image-20240223234145459.png)

### 변수 해제

![image-20240223234223599](.\assets\image-20240223234223599.png)

## 앨리어스와 히스토리

![image-20240223234335036](.\assets\image-20240223234335036.png)

![image-20240223234546373](.\assets\image-20240223234546373.png)

![image-20240223234555843](.\assets\image-20240223234555843.png)

![image-20240223234603618](.\assets\image-20240223234603618.png)

![image-20240223235231868](.\assets\image-20240223235231868.png)

![image-20240223235323282](.\assets\image-20240223235323282.png)

![image-20240224000214141](.\assets\image-20240224000214141.png)

배시셸에서는 앨리어스로 인자를 전달할 수 없다.

배시셸에서 인자를 전달하려면 프로그래밍 기능에서 함수를 사용해야 한다.

함수를 제거하려면 셸을 종료하면 된다.

![image-20240224000448989](.\assets\image-20240224000448989.png)

### 히스토리

![image-20240224000732007](.\assets\image-20240224000732007.png)

![image-20240224000906837](.\assets\image-20240224000906837.png)

## 환경 설정 파일

| 파일                | 기능                                                         |
| ------------------- | ------------------------------------------------------------ |
| /etc/profile        | * 본셸이나 본셸과 호환되는 모든 셸에 공통으로 적용되는 환경 설정 파일이다.<br />* 배시셸의 경우 /etc/bash.bashrc 파일을 실행한다.<br />* 배시셸이 아닌 경우 프롬프트를 #(root 사용자)나 $(일반 사용자)로 설정한다.<br />* /etc/profile.d/*.sh 파일을 실행한다.<br />![image-20240224004049052](.\assets\image-20240224004049052.png) |
| /etc/bash.bashrc    | * 시스템에 공통으로 적용되는 .bashrc 파일이다.<br />* 기본 프롬프트를 설정한다.<br />* sudo 명령과 관련된 힌트를 설정한다.<br />![image-20240224004121885](.\assets\image-20240224004121885.png) |
| /etc/profile.d/*.sh | * 언어나 명령별로 각각 필요한 환경을 설정한다.<br />* 필요시 설정 파일을 추가한다.<br />![image-20240224004157477](.\assets\image-20240224004157477.png) |



### 사용자 환경 설정 파일

| 파일            | 기능                                                         |
| --------------- | ------------------------------------------------------------ |
| ~/.profile      | * .bashrc 파일이 있으면 실행한다.<br />![image-20240224010054991](.\assets\image-20240224010054991.png)<br />* 경로 추가 등 사용자가 정의하는 환경 설정 파일이다.<br />![image-20240224010134583](.\assets\image-20240224010134583.png) |
| ~/.bashrc       | * 히스토리의 크기를 설정한다.<br />![image-20240224005937166](.\assets\image-20240224005937166.png)<br />* 기본 앨리어스나 함수 등을 설정한다.<br />![image-20240224005958215](.\assets\image-20240224005958215.png) |
| ~/.bash_logout  | * 로그아웃 시 실행할 필요가 있는 함수 등을 설정한다.<br />![image-20240224010255848](\assets\image-20240224010255848.png)<br />$SHLVL은 쉘의 깊이. 1은 최상위 레벨을 의미한다. |
| ~/.bash_aliases | * 사용자가 정의한 앨리어스를 별도 파일로 저장한다.           |

